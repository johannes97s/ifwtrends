}
for (i in cat_paper$id){
print(i)
bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
cat_paper$id
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat<- as_tibble(categories)
cat_paper %>%
left_join(cat, by = "name") %>%
unique() -> cat_paper
as_tibble(gtrends(geo = "DE", time = "all", category = c(47))$interest_over_time)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id){
print(i)
bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
series
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
for (i in cat_paper$id){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
series
names(series) <- c("date", str_c("id", cat_paper$id)
names(series) <- c("date", str_c("id", cat_paper$id))
names(series) <- c("date", str_c("id", cat_paper$id))
series
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = value, color = id))
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = value, color = id))
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = hits, color = id))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id))
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat<- as_tibble(categories)
cat_paper %>%
left_join(cat, by = "name") %>%
unique() -> cat_paper
print(cat_paper, n = 100)
as_tibble(gtrends(geo = "DE", time = "all", category = c(47))$interest_over_time)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id[1:10]))
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id[1:10]))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id[2:10]))
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = hits, color = id))
seris
series
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") #%>%
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:3]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id[2:3]))
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:3]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id[2:3]))
names(series) <- c("date", str_c("id", cat_paper$id[1:3]))
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") #%>%
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = hits, color = id))
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = hits, color = id)) +
geom_line()
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:20]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", str_c("id", cat_paper$id[1:20]))
cat_paper
names(series) <- c("date", str_c("id", cat_paper$name[1:20]))
print(cat_paper, n = 20)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:20]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", cat_paper$name[1:20])
names(series) <- c("date", cat_paper$name[2:20])
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(aes(x = date, y = hits, color = id)) +
geom_line()
ts_pick(ts_prcomp(series), "PC1")
series
series$`College Financing`
ts_pick(ts_prcomp(series), "PC1")
series
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") -> series
ts_pick(ts_prcomp(series), "PC1")
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") -> series
ggplot(aes(x = date, y = hits, color = id)) +
geom_line()
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") -> series
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")  %>%
ggplot(aes(x = date, y = hits, color = id)) +
geom_line()
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")  %>%
ggplot(aes(x = date, y = hits, color = id)) +
geom_line()
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:20]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", cat_paper$name[2:20])
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")  %>%
ggplot(aes(x = date, y = hits, color = id)) +
geom_line()
series <- bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1"), x)$value)
series <- bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1"), x)$value)
series <- bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1")$value)
series
print(series[5:10])
print(series[10:20])
print(series[20:30])
print(series[1:10])
series[20]
series[10:20]
series[15:20]
?ts_prcomp
series <- pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
series
series$id
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:20]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", cat_paper$name[2:20])
series <- pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
series
series$id
print(sereis)
View(sereis)
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat<- as_tibble(categories)
cat_paper %>%
left_join(cat, by = "name") %>%
unique() -> cat_paper
print(cat_paper, n = 100)
as_tibble(gtrends(geo = "DE", time = "all", category = c(47))$interest_over_time)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:20]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", cat_paper$name[2:10])
series <- pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
print(series, n = 100)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
names(series) <- c("date", cat_paper$name[1:10])
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
cat_paper$name[1:10]
series
1:10
categories$id == 569
categories$id == "569"
categories$id
match(categories$id, 569)
match(categories$id, "569")
match(cat$id, 569)
569 %in% cat$id
for (i in cat_paper$id[1:10]){
print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
329 %in% cat$id
612 %in% cat$id
cat_paper
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat<- as_tibble(categories)
cat_paper %>%
left_join(cat, by = "name") %>%
unique() -> cat_paper
print(cat_paper, n = 100)
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat<- as_tibble(categories)
cat_paper %>%
left_join(cat, by = "name") %>%
unique() -> cat_paper2
cat_paper$name %in% cat_paper2
cat_paper$name == cat_paper2
cat_paper$name == cat_paper2$name
cat_paper2
cat_paper <- as_tibble(read.csv("Kategorien_Woloszko.csv", head = F))
names(cat_paper) = "name"
cat<- as_tibble(categories)
cat_paper %>%
left_join(cat, by = "name") %>%
unique() -> cat_paper
print(cat_paper, n = 100)
as_tibble(gtrends(geo = "DE", time = "all", category = c(47))$interest_over_time)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
}
cat_paper$name[1:10]
length(series)
series
cat_paper$id[1:10]
gtrends(geo = "DE", time = "all", category = "569")
gtrends(geo = "DE", time = "all", category = "329")
gtrends(geo = "DE", time = "all", category = "612")
gtrends(geo = "DE", time = "all", category = "23")
gtrends(geo = "DE", time = "all", category = "330")
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
if (i %in% categories$id)
#print(i)
series <- bind_cols(series, i = gtrends(geo = "DE", time = "all", category = i)$interest_over_time$hits)
else print(i)
}
series
names(series) <- c("date", cat_paper$name[1:10])
names(series) <- c("date", cat_paper$name[2:10])
series <- pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
ggplot(series, aes(x = date, y = hits, color = id))
ggplot(series, aes(x = date, y = hits, color = id)) + geom_line()
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) print(i)
else series <- bind_cols(series, i = g$interest_over_time$hits)
}
t = 1:10
t[1:10][-2]
match(t, 4)
which(t, 4)
match(t, 4)
match(t, "4")
which(4 == t)
which(c(4,7) == t)
c(4,7) == t
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) c(missing, cat_paper$name[i])
else series <- bind_cols(series, i = g$interest_over_time$hits)
}
series
gtrends(geo = "DE", time = "all", category = "330")$interest_over_time
gtrends(geo = "DE", time = "all", category = "615")$interest_over_time
is.null(0)
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) c(missing, cat_paper$name[i])
else series <- bind_cols(series, i = g$hits)
}
missing
c("a","b")["a"]
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
missing
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) print(i) #c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
series
cat_paper$name[cat_paper$id == "330"]
cat_paper
missing
c(missing, cat_paper$name[cat_paper$id == i])
c(missing, cat_paper$name[cat_paper$id == 330])
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
missing
missing = NULL
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) c(missing, i)
else series <- bind_cols(series, i = g$hits)
}
missing
c(NULL, 4)
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
missing
setdiff(c("a", "b"), "a")
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
names(series) <- c("date", setdiff(cat_paper$name[1:10], missing))
series <- pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
series <- bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1")$value)
ts_pick(ts_prcomp(series), "PC1")
ts_pick(ts_prcomp(series), "PC1")$value
bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1")$value)
series <- bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1")$value)
pivot_longer(series, cols = -date, names_to = "id", values_to = "hits") %>%
ggplot(series, aes(x = date, y = hits, color = id)) + geom_line()
series
series$id
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
names(series) <- c("date", setdiff(cat_paper$name[1:10], missing))
series <- bind_cols(series, PC = ts_pick(ts_prcomp(series), "PC1")$value)
ts_pick(ts_prcomp(series), "PC1")
missing
setdiff(cat_paper$name[1:10], missing)
names(series)
series
series[1:10]
series[1:10]
ts_pick(ts_prcomp(series), "PC1")
series <- pivot_longer(series, cols = -date, names_to = "id", values_to = "hits")
ts_pick(ts_prcomp(series), "PC1")
series <- tibble(date = seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month"))
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
names(series) <- c("date", setdiff(cat_paper$name[1:10], missing))
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") %>%
bind_cols(PC = ts_pick(ts_prcomp(series), "PC1")$value) ->
ggplot(series, aes(x = date, y = hits, color = id)) +
geom_line()
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") %>%
bind_cols(PC = ts_pick(ts_prcomp(.), "PC1")$value) ->
ggplot(series, aes(x = date, y = hits, color = id)) +
geom_line()
dates <- seq.Date(from = as.Date( "2004-01-01"), to = as.Date("2021-08-01"), by = "month")
as_tibble(gtrends(geo = "DE", time = "all", category = c(47))$interest_over_time)
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") %>%
bind_rows(date = dates, hits =  ts_pick(ts_prcomp(.), "PC1")$value) -> series
tb
tibble
t
t = tibble( a = 1:10, b = "a")
t
bind_rows(t, a = 10:1, b = "q")
?bind_rows
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") %>%
rename(time = date, value = hits)
bind_rows(ts_pick(ts_prcomp(.), "PC1")$value) -> series
ts_pick(ts_prcomp(.), "PC1")
ts_pick(ts_prcomp(series), "PC1")
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") %>%
ts_pick(ts_prcomp(.), "PC1")
series <- tibble(date = dates)
missing = NULL
for (i in cat_paper$id[1:10]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
names(series) <- c("date", setdiff(cat_paper$name[1:10], missing))
series <- tibble(date = dates)
missing = NULL
for (i in cat_paper$id[1:5]){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
names(series) <- c("date", setdiff(cat_paper$name[1:5], missing))
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") %>%
ts_pick(ts_prcomp(.), "PC1")
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") -> series
ts_pick(ts_prcomp(series), "PC1")
series
pc <- ts_pick(ts_prcomp(series), "PC1")
ggplot(pc, aes(x = time, y = value, color = id)) +
geom_line()
series <- tibble(date = dates)
missing = NULL
for (i in cat_paper$id){
g <- gtrends(geo = "DE", time = "all", category = i)$interest_over_time
if (is.null(g)) missing <- c(missing, cat_paper$name[cat_paper$id == i])
else series <- bind_cols(series, i = g$hits)
}
missing
names(series) <- c("date", setdiff(cat_paper$name, missing))
series %>%
pivot_longer(cols = -date, names_to = "id", values_to = "hits") -> series
pc <- ts_pick(ts_prcomp(series), "PC1")
ggplot(series, aes(x = date, y = hits, color = id)) +
geom_line()
ggplot(series, aes(x = date, y = hits, color = id)) +
geom_line() +
theme(legend.position = "none")
ggplot(pc, aes(x = time, y = value, color = id)) +
geom_line()
ts_prcomp(series)
pc <- ts_pick(ts_prcomp(series), c("PC1", "PC2"))
ggplot(pc, aes(x = time, y = value, color = id)) +
geom_line()
pc <- ts_pick(ts_prcomp(series), c("PC1", "PC2", "PC3", "PC4", "PC5"))
ggplot(pc, aes(x = time, y = value, color = id)) +
geom_line()
series
pivot_wider(series, names_from = id, values_from = hits)
pivot_wider(pc, names_from = id, values_from = value)
pc <- rename(pivot_wider(pc, names_from = id, values_from = value), date = time)
pc
left_join(pc, series, by = "date")
series <- pivot_wider(series, names_from = id, values_from = hits)
pc <- rename(pivot_wider(pc, names_from = id, values_from = value), date = time)
pc
left_join(pc, series, by = "date")
library(openxlsx)
write.xlsx(left_join(pc, series, by = "date"), file = "Kategorien_und_PC.xlsx")
?ts_prcomp
